(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(58),o=a.n(s),i=(a(69),a(70),a(1)),c=a(2),l=a(4),u=a(3),d=a(5),p=a(15),m=a(17),w=a(6),h=a.n(w),y=a(8),g=a(11),k=a(7),b=a.n(k),f={isValid:!1,errorLOGIN:"",errorPASSWORD:"",errorPASSWORD2:"",errorTYPE:"",errorUSERKEY:""},E={isValid:!1,errorLOGIN:"",errorPASSWORD:""},v={isValid:!1,errorAMOUNT:"",errorCATEGORY:""},z={isValid:!1,errorBODY:"",errorANSWER_A:"",errorANSWER_B:"",errorANSWER_C:"",errorANSWER_D:"",errorANSWER_PROPER:"",errorCATEGORY:""},S={isValid:!1,errorLOGIN:""},A=function e(){Object(i.a)(this,e)};A.registerFormValidation=function(e,t,a,n,r){return f.errorLOGIN=""===e?"Login cannot be empty!":"",e.length<5?f.errorLOGIN="Login should be at least 5 characters long!":f.errorLOGIN="",f.errorPASSWORD=""===t?"Password cannot be empty!":"",t.length<5?f.errorPASSWORD="Password should be at least 5 characters long!":f.errorPASSWORD="",f.errorPASSWORD2=a!==t?"Passwords don't match!":"",f.errorTYPE=""===n?"Choose account type!":"",""===f.errorLOGIN&&""===f.errorPASSWORD&&""===f.errorPASSWORD2&&""===f.errorTYPE?f.isValid=!0:f.isValid=!1,f},A.loginFormValidation=function(e,t){return E.errorLOGIN=""===e?"Login cannot be empty!":"",E.errorPASSWORD=""===t?"Password cannot be empty!":"",E.isValid=""!==e&&""!==t,E},A.teacherFormValidation=function(e,t){return""===e?v.errorAMOUNT="This field cannot be empty!":isNaN(e)?v.errorAMOUNT="You cannot give letters here!":v.errorAMOUNT="",v.errorCATEGORY=""===t?"You must choose category!":"",""===v.errorAMOUNT&&""===v.errorCATEGORY?v.isValid=!0:v.isValid=!1,v},A.newQuestionValidation=function(e,t,a,n,r,s,o){return z.errorBODY=""===e?"Question cannot be empty!":"",z.errorANSWER_A=""===t?"This answer cannot be empty!":"",z.errorANSWER_B=""===a?"This answer cannot be empty!":"",z.errorANSWER_C=""===n?"This answer cannot be empty!":"",z.errorANSWER_D=""===r?"This answer cannot be empty!":"",z.errorANSWER_PROPER=""===s?"Question must have its answer!":"",z.errorCATEGORY=""===o?"Choose category!":"",z.isValid=""!==e&&""!==t&&""!==a&&""!==n&&""!==r&&""!==s&&""!==o,z},A.findResultValidation=function(e){return S.errorLOGIN=""!==e?"":"Type your student login!",""===S.errorLOGIN?S.isValid=!0:S.isValid=!1,S};var j=A,N=function(){return sessionStorage.getItem("jwt")},O=function(e){return r.a.createElement("div",{className:"center"},r.a.createElement("form",{className:"form-group",onSubmit:e.handleSubmit},r.a.createElement("input",{id:"login",className:"form-control",name:"login",placeholder:"Type your login...",type:"text",onChange:e.handleChange})," ",r.a.createElement("br",null),e.errorLOGIN&&r.a.createElement("div",{className:"alert alert-danger"},e.errorLOGIN),r.a.createElement("input",{id:"password",className:"form-control",name:"password",placeholder:"Type your password...",type:"password",onChange:e.handleChange})," ",r.a.createElement("br",null),e.errorPASSWORD&&r.a.createElement("div",{className:"alert alert-danger"},e.errorPASSWORD),e.error&&r.a.createElement("div",{className:"alert alert-warning"},e.error),e.success&&r.a.createElement("div",{className:"alert alert-success"},e.success),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Login")," ",r.a.createElement("br",null),r.a.createElement(p.b,{className:"text-uppercase",to:"/register"},"Do not have account? Register now!")))},C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:"",errorLOGIN:"",errorPASSWORD:"",error:"",success:""},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(y.a)(h.a.mark(function e(t){var n,r,s,o,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.login,s=n.password,o=j.loginFormValidation(r,s),a.setState(o),!o.isValid){e.next=9;break}return e.next=7,b.a.post("/login",{login:r,password:s});case 7:(i=e.sent).data.done?a.setState({success:i.data.message,error:""})||sessionStorage.setItem("jwt",i.data.token)||setTimeout(function(){a.props.history.push("/account")},1e3):a.setState({error:i.data.message,success:""});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){N()?this.props.history.push("/account"):this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"login flexfullwh"},r.a.createElement(O,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,errorLOGIN:this.state.errorLOGIN,errorPASSWORD:this.state.errorPASSWORD,error:this.state.error,success:this.state.success}))}}]),t}(n.Component),T=function(e){return r.a.createElement("div",{className:"center"},r.a.createElement("form",{className:"form-group",onSubmit:e.handleSubmit},r.a.createElement("input",{id:"login",className:"form-control",name:"login",placeholder:"Type your login...",type:"text",onChange:e.handleChange})," ",r.a.createElement("br",null),e.errorLOGIN&&r.a.createElement("div",{className:"alert alert-danger"},e.errorLOGIN),r.a.createElement("input",{id:"password",className:"form-control",name:"password",placeholder:"Type your password...",type:"password",onChange:e.handleChange})," ",r.a.createElement("br",null),e.errorPASSWORD&&r.a.createElement("div",{className:"alert alert-danger"},e.errorPASSWORD),r.a.createElement("input",{id:"password2",className:"form-control",name:"password2",placeholder:"Type your password again...",type:"password",onChange:e.handleChange})," ",r.a.createElement("br",null),e.errorPASSWORD2&&r.a.createElement("div",{className:"alert alert-danger"},e.errorPASSWORD2),r.a.createElement("select",{className:"form-control",onChange:e.handleSelectChange},r.a.createElement("option",{hidden:!0},"Choose account type..."),r.a.createElement("option",{name:"type",value:"student"},"Student"),r.a.createElement("option",{name:"type",value:"blind-student"},"Blind-Student"),r.a.createElement("option",{name:"type",value:"blind-student"},"Sand-Blind-Student"),r.a.createElement("option",{name:"type",value:"teacher"},"Teacher"))," ",r.a.createElement("br",null),e.errorTYPE&&r.a.createElement("div",{className:"alert alert-danger"},e.errorTYPE),r.a.createElement("input",{id:"userKey",className:"form-control",name:"userKey",placeholder:"Type user key...",type:"password",onChange:e.handleChange})," ",r.a.createElement("br",null),e.errorUSERKEY&&r.a.createElement("div",{className:"alert alert-danger"},e.errorUSERKEY),e.error&&r.a.createElement("div",{className:"alert alert-warning"},e.error),e.success&&r.a.createElement("div",{className:"alert alert-success"},e.success),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Register")," ",r.a.createElement("br",null),r.a.createElement(p.b,{className:"text-uppercase",to:"/"},"Have already account? Log in!")))},R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:"",password2:"",type:"",userKey:"",errorLOGIN:"",errorPASSWORD:"",errorPASSWORD2:"",errorTYPE:"",errorUSERKEY:"",error:"",success:""},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSelectChange=function(e){a.setState({type:e.target.value})},a.handleSubmit=function(){var e=Object(y.a)(h.a.mark(function e(t){var n,r,s,o,i,c,l,u;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({error:"",success:""}),t.preventDefault(),n=a.state,r=n.login,s=n.password,o=n.password2,i=n.type,c=n.userKey,l=j.registerFormValidation(r,s,o,i,c),a.setState(l),!l.isValid){e.next=10;break}return e.next=8,b.a.post("/register",{login:r,password:s,type:i,userKey:c});case 8:(u=e.sent).data.done?a.setState({success:u.data.message,error:""})||setTimeout(function(){a.props.history.push("/")},1e3):a.setState({error:u.data.message,success:""});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){N()&&this.props.history.push("/account")}},{key:"render",value:function(){return r.a.createElement("div",{className:"register flexfullwh"},r.a.createElement(T,{handleChange:this.handleChange,handleSelectChange:this.handleSelectChange,handleSubmit:this.handleSubmit,errorLOGIN:this.state.errorLOGIN,errorPASSWORD:this.state.errorPASSWORD,errorPASSWORD2:this.state.errorPASSWORD2,errorTYPE:this.state.errorTYPE,errorUSERKEY:this.state.errorUSERKEY,error:this.state.error,success:this.state.success}))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){sessionStorage.removeItem("jwt"),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"logout btn btn-dark",onClick:this.handleClick},"Logout")}}]),t}(n.Component),D=Object(m.e)(W),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.history.push("/add")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-dark",onClick:this.handleClick},"Add question")}}]),t}(n.Component),x=Object(m.e)(P),_=a(61),U=a.n(_),M=a(16),Q=a.n(M),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s))))._isMounted=!1,a.state={login:"",results:"",errorLOGIN:"",success:"",error:""},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleClick=function(e){e.preventDefault(),a.setState({login:"",results:"",errorLOGIN:"",success:"",error:""}),Q()("#login").val("")},a.handleSubmit=function(){var e=Object(y.a)(h.a.mark(function e(t){var n,s,o,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({success:"",error:"",results:""}),t.preventDefault(),n=a.state.login,s=j.findResultValidation(n),a.setState(s),!s.isValid){e.next=11;break}if(!a._isMounted){e.next=11;break}return e.next=9,b.a.post("/getResult",{login:n});case 9:(o=e.sent).data.done?(i=o.data.results.map(function(e){return r.a.createElement("div",{className:"foundResult",key:U()()},r.a.createElement("p",null,r.a.createElement("b",null,"Student:")," ",e.login),r.a.createElement("p",null,r.a.createElement("b",null,"Category:")," ",e.category),r.a.createElement("p",null,r.a.createElement("b",null,"Points:")," ",e.points,"/",e.totalPoints," ",e.percent),r.a.createElement("p",null,r.a.createElement("b",null,"Date:")," ",e.date))}),a.setState({results:i})):a.setState({error:o.data.message,success:"",results:""});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"studentResult result-info"},r.a.createElement("form",null,r.a.createElement("input",{id:"login",className:"form-control findResultsInput",name:"login",placeholder:"Find your student's results...",type:"text",onChange:this.handleChange})," ",r.a.createElement("br",null),this.state.errorLOGIN&&r.a.createElement("div",{className:"alert alert-danger"},this.state.errorLOGIN),this.state.error&&r.a.createElement("div",{className:"alert alert-warning"},this.state.error),r.a.createElement("button",{className:"btn btn-dark mr-1",onClick:this.handleSubmit},"Find"),r.a.createElement("button",{className:"btn btn-dark",onClick:this.handleClick},"Cancel"),r.a.createElement("div",null,this.state.results)))}}]),t}(n.Component),B=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-list"},r.a.createElement("ul",{className:"menu-items"},r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"welcome"},"Welcome ",this.props.login),r.a.createElement("li",null,r.a.createElement(D,null)),r.a.createElement("li",null,r.a.createElement(x,null)),r.a.createElement("li",null,r.a.createElement(G,null))))),r.a.createElement("div",{className:"center"},r.a.createElement("form",{className:"form-group",onSubmit:this.props.handleSubmit},r.a.createElement("input",{id:"amount",className:"form-control",name:"amount",placeholder:"How many questions you want to generate...",type:"text",onChange:this.props.handleChange})," ",r.a.createElement("br",null),this.props.errorAMOUNT&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorAMOUNT),r.a.createElement("select",{className:"form-control",onChange:this.props.handleSelectChange},r.a.createElement("option",{hidden:!0},"Choose category..."),r.a.createElement("option",{name:"category",value:"EE14"},"EE14"),r.a.createElement("option",{name:"category",value:"EE13"},"EE13"),r.a.createElement("option",{name:"category",value:"EE12"},"EE12"),r.a.createElement("option",{name:"category",value:"EE09"},"EE09"),r.a.createElement("option",{name:"category",value:"EE08"},"EE08"))," ",r.a.createElement("br",null),this.props.errorCATEGORY&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorCATEGORY),this.props.error&&r.a.createElement("div",{className:"alert alert-warning"},this.props.error),this.props.success&&r.a.createElement("div",{className:"alert alert-success"},this.props.success),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")," ",r.a.createElement("br",null))))}}]),t}(n.Component),F=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"cancel btn btn-dark",onClick:this.props.cancel},"Cancel")}}]),t}(n.Component),L=a(62),q=a.n(L),I=function(e,t){var a=new q.a("portrait","mm","a4");a.setFontSize(10);var n=a.internal.pageSize.height||a.internal.pageSize.getHeight(),r=0;r+=20;for(var s=1,o=0;o<=e.length-1;o++){var i=t(s+": "+e[o].body),c=a.splitTextToSize(i,180);if(a.text(c,105,r,"center"),(r+=12)>n-30&&(r=0,r+=20,a.addPage()),e[o].image){var l=btoa(new Uint8Array(e[o].image.data.data).reduce(function(e,t){return e+String.fromCharCode(t)},""));a.addImage(l,105/2.6,r,140,50),(r+=60)>n-60&&(r=0,r+=20,a.addPage())}r>n-60&&(r=0,r+=20,a.addPage());var u=t("A: "+e[o].answerA),d=a.splitTextToSize(u,180);a.text(d,105,r,"center"),r+=7;var p=t("B: "+e[o].answerB),m=a.splitTextToSize(p,180);a.text(m,105,r,"center"),r+=7;var w=t("C: "+e[o].answerC),h=a.splitTextToSize(w,180);a.text(h,105,r,"center"),r+=7;var y=t("D: "+e[o].answerD),g=a.splitTextToSize(y,180);a.text(g,105,r,"center"),(r+=15)>n-15&&(r=0,r+=20,a.addPage()),s++}a.save("Generated test.pdf")},Y=function(e){return e.replace(/\u0105/g,"a").replace(/\u0104/g,"A").replace(/\u0107/g,"c").replace(/\u0106/g,"C").replace(/\u0119/g,"e").replace(/\u0118/g,"E").replace(/\u0142/g,"l").replace(/\u0141/g,"L").replace(/\u0144/g,"n").replace(/\u0143/g,"N").replace(/\xf3/g,"o").replace(/\xd3/g,"O").replace(/\u015b/g,"s").replace(/\u015a/g,"S").replace(/\u017c/g,"z").replace(/\u017b/g,"Z").replace(/\u017a/g,"z").replace(/\u0179/g,"Z")},V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).print=function(){I(a.props.questions,Y)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-dark",onClick:this.print},"Print to PDF")}}]),t}(n.Component),K=a(45),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s))))._isMounted=!1,a.state={questions:a.props.questions,orderedTest:"",results:""},a.organizeQuestions=function(e){!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}}(e);var t=0,n=e.map(function(e){if(t++,"image"in e){var n=btoa(new Uint8Array(e.image.data.data).reduce(function(e,t){return e+String.fromCharCode(t)},""));e.imageUrl=n}return r.a.createElement("div",{className:"question",key:e._id,onClick:function(){return a.handleDeleteQuestion(e._id)}},e.imageUrl&&r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.imageUrl),alt:"question"}),r.a.createElement("div",{className:"body alert alert-dark font-weight-bold"}," ",t+". "+e.body),r.a.createElement("div",{className:"answer alert alert-success"},"A. "+e.answerA),r.a.createElement("div",{className:"answer alert alert-success"},"B. "+e.answerB),r.a.createElement("div",{className:"answer alert alert-success"},"C. "+e.answerC),r.a.createElement("div",{className:"answer alert alert-success"},"D. "+e.answerD))});a.setState({orderedTest:n})},a.handleDeleteQuestion=function(e){if(a._isMounted){var t=a.state.questions.filter(function(t){return t._id!==e}),n=0,s=t.map(function(e){if(n++,"image"in e){var t=btoa(new Uint8Array(e.image.data.data).reduce(function(e,t){return e+String.fromCharCode(t)},""));e.imageUrl=t}return r.a.createElement("div",{className:"question",key:e._id,onClick:function(){return a.handleDeleteQuestion(e._id)}},e.imageUrl&&r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.imageUrl),alt:"question"}),r.a.createElement("div",{className:"body alert alert-dark font-weight-bold"},n+". "+e.body),r.a.createElement("div",{className:"answer alert alert-success"},"A. "+e.answerA),r.a.createElement("div",{className:"answer alert alert-success"},"B. "+e.answerB),r.a.createElement("div",{className:"answer alert alert-success"},"C. "+e.answerC),r.a.createElement("div",{className:"answer alert alert-success"},"D. "+e.answerD))});1===a.state.questions.length&&Q()(".cancel").click(),a.setState({questions:t,orderedTest:s}),a.props.update(t)}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}}(this.state.questions),this.organizeQuestions(this.state.questions),this.props.socket.on("sendResult",function(){var t=Object(y.a)(h.a.mark(function t(a){var n,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._isMounted){t.next=4;break}return t.next=3,b.a.post("/getNewestResult",{login:a.login});case 3:n=t.sent;case 4:n&&(e.props.setResults(n.data),s=e.props.results.map(function(e){return r.a.createElement("div",{className:"result",key:K()},r.a.createElement("p",null,"Student ",r.a.createElement("b",null,e.login)," finished test!"),r.a.createElement("p",null,r.a.createElement("b",null,"Category:")," ",e.category),r.a.createElement("p",null,r.a.createElement("b",null,"Points:")," ",e.points,"/",e.totalPoints," ",e.percent),r.a.createElement("p",null,r.a.createElement("b",null,"Date:")," ",e.date))}),e.setState({results:s}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-list"},r.a.createElement("ul",{className:"menu-items"},r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"welcome"},"Welcome ",this.props.login),r.a.createElement("li",null,r.a.createElement(D,null)),r.a.createElement("li",null,r.a.createElement(F,{cancel:this.props.cancel})),r.a.createElement("li",null,r.a.createElement(x,null)),r.a.createElement("li",null,r.a.createElement(V,{questions:this.state.questions})),r.a.createElement("li",null,r.a.createElement(G,null))),r.a.createElement("div",{className:"info"},""!==this.props.studentsList&&r.a.createElement("div",{className:"students"},this.props.studentsList),""!==this.props.results&&r.a.createElement("div",{className:"results"},this.state.results)))),r.a.createElement("div",{className:"questions center"},this.state.orderedTest))}}]),t}(n.Component),X=a(20),J=a.n(X),Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={socket:"",studentsList:"",results:[],amount:"",category:"",questions:"",errorAMOUNT:"",errorCATEGORY:"",error:"",success:"",isGenerated:!1},a.sendTest=function(e,t){a.state.socket.emit("sendTest",e,t)},a.setResults=function(e){a.state.results.push(e)},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSelectChange=function(e){a.setState({category:e.target.value})},a.cancel=function(){a.setState({amount:"",category:"",questions:"",isGenerated:!1})},a.update=function(e){a.setState({questions:e})},a.handleSubmit=function(){var e=Object(y.a)(h.a.mark(function e(t){var n,r,s,o,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.amount,s=n.category,o=j.teacherFormValidation(r,s),a.setState(o),!o.isValid){e.next=9;break}return e.next=7,b.a.post("/getTest",{amount:r,category:s});case 7:(i=e.sent).data.done?a.setState({questions:i.data.questions,error:"",success:"",isGenerated:!0}):a.setState({error:i.data.message,success:"",questions:""});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=J()("/teacher");this.setState({socket:e})}},{key:"componentDidMount",value:function(){var e=this;this.state.socket.emit("login",{login:this.props.login,type:this.props.type}),this.state.socket.emit("studentsList"),this.state.socket.on("studentsList",function(t,a){var n,s,o=t.concat(a);o=(n=o,s="login",n.map(function(e){return e[s]}).map(function(e,t,a){return a.indexOf(e)===t&&t}).filter(function(e){return n[e]}).map(function(e){return n[e]})).map(function(t){return r.a.createElement("li",{className:"student",key:t.id,onClick:function(){return e.sendTest(t.login,e.state.questions)}},t.login)}),e.setState({studentsList:o})})}},{key:"componentWillUnmount",value:function(){this.state.socket.emit("logout",{login:this.props.login,type:this.props.type})}},{key:"render",value:function(){return r.a.createElement("div",{className:"teacher flexfullwh"},this.state.isGenerated?r.a.createElement(H,{socket:this.state.socket,login:this.props.login,setResults:this.setResults,results:this.state.results,questions:this.state.questions,studentsList:this.state.studentsList,sendTest:this.sendTest,cancel:this.cancel,update:this.update}):r.a.createElement(B,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleSelectChange:this.handleSelectChange,errorAMOUNT:this.state.errorAMOUNT,errorCATEGORY:this.state.errorCATEGORY,error:this.state.error,success:this.state.success,login:this.props.login}))}}]),t}(n.Component),$=a(63),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s))))._isMounted=!1,a.state={questions:"",orderedTest:"",properAnswers:[],login:a.props.login,category:"",points:"",percent:"",error:"",canReceiveTest:!0},a.organizeQuestions=function(e){var t=0,n=e.map(function(e){if(a.setState({properAnswers:[].concat(Object($.a)(a.state.properAnswers),[e.properAnswer])}),t++,"image"in e){var n=btoa(new Uint8Array(e.image.data.data).reduce(function(e,t){return e+String.fromCharCode(t)},""));e.imageUrl=n}return r.a.createElement("div",{className:"question studentQuestion",key:e._id},e.imageUrl&&r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.imageUrl),alt:"question"}),r.a.createElement("div",{className:"body alert alert-dark font-weight-bold"},t+". "+e.body),r.a.createElement("input",{id:"answerRadio1".concat(e._id),type:"radio",name:e._id,className:"answerRadio",value:"A"}),r.a.createElement("label",{htmlFor:"answerRadio1".concat(e._id),className:"label questionLabel"},r.a.createElement("div",{className:"answer studentAnswer alert alert-success"},"A. "+e.answerA)),r.a.createElement("input",{id:"answerRadio2".concat(e._id),type:"radio",name:e._id,className:"answerRadio",value:"B"}),r.a.createElement("label",{htmlFor:"answerRadio2".concat(e._id),className:"label questionLabel"},r.a.createElement("div",{className:"answer studentAnswer alert alert-success"},"B. "+e.answerB)),r.a.createElement("input",{id:"answerRadio3".concat(e._id),type:"radio",name:e._id,className:"answerRadio",value:"C"}),r.a.createElement("label",{htmlFor:"answerRadio3".concat(e._id),className:"label questionLabel"},r.a.createElement("div",{className:"answer studentAnswer alert alert-success"},"C. "+e.answerC)),r.a.createElement("input",{id:"answerRadio4".concat(e._id),type:"radio",name:e._id,className:"answerRadio",value:"D"}),r.a.createElement("label",{htmlFor:"answerRadio4".concat(e._id),className:"label questionLabel"},r.a.createElement("div",{className:"answer studentAnswer alert alert-success"},"D. "+e.answerD)))});a.setState({orderedTest:n})},a.checkAnswers=Object(y.a)(h.a.mark(function e(){var t,n,r,s,o,i,c,l,u,d,p,m,w,y,g,k,f;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=Q()(".answerRadio"),r=[],s=Q()(".answer"),o=0,i=0;i<n.length;i++)n[i].checked&&(t.push(i),r.push(n[i].value));if(r.length!==a.state.properAnswers.length){e.next=27;break}for(c=function(e){return(e<10?"0":"")+e},l=0;l<r.length;l++)r[l]===a.state.properAnswers[l]?(s[t[l]].style.background="green",o++):s[t[l]].style.background="red";if(u=new Date,d=u.getFullYear(),p=c(u.getDate()),m=c(u.getMonth()+1),w=c(u.getHours()),y=c(u.getMinutes()),g=c(u.getSeconds()),k=d+"-"+m+"-"+p+" "+w+":"+y+":"+g,!a._isMounted){e.next=22;break}return e.next=20,b.a.post("/saveResult",{login:a.state.login,category:a.state.category,points:o,totalPoints:a.state.questions.length,percent:Math.round(o/a.state.questions.length*100)+"%",date:k});case 20:e.sent.data.done&&a.props.socket.emit("sendResult",{login:a.state.login});case 22:for(a.setState({canReceiveTest:!0,points:o,percent:Math.round(o/a.state.questions.length*100)+"%"}),f=0;f<n.length;f++)n[f].disabled=!0;Q()(".submit").prop("disabled",!0),e.next=28;break;case 27:a.setState({error:"You have to give answer to all the questions"});case 28:case"end":return e.stop()}},e)})),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.props.socket.on("sendTest",function(t){Q()(".submit").prop("disabled",!1),e.state.canReceiveTest&&e.setState({questions:"",orderedTest:"",properAnswers:[],category:"",points:"",percent:"",error:""}),function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}}(t),!0===e._isMounted&&e.state.canReceiveTest&&(e.setState({questions:t,category:t[0].category,properAnswers:[]}),e.organizeQuestions(e.state.questions),e.setState({canReceiveTest:!1}))})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-list"},r.a.createElement("ul",{className:"menu-items"},r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"welcome"},"Welcome ",this.props.login),r.a.createElement("li",null,r.a.createElement(D,null)),""!==this.state.points&&r.a.createElement("li",{className:"pointResult"},"Uzyska\u0142e\u015b ",this.state.points,"/",this.state.questions.length," punkt\xf3w - ",this.state.percent)))),r.a.createElement("div",{className:"questions center"},this.state.orderedTest?r.a.createElement("div",null,this.state.orderedTest,this.state.error&&r.a.createElement("div",{className:"alert alert-warning"},this.state.error),r.a.createElement("button",{className:"btn btn-dark submit",onClick:this.checkAnswers},"Submit answers")):r.a.createElement("div",null,"Please wait...")))}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={socket:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=J()("/student");this.setState({socket:e})}},{key:"componentDidMount",value:function(){this.state.socket.emit("login",{login:this.props.login,type:this.props.type})}},{key:"componentWillUnmount",value:function(){this.state.socket.emit("logout",{login:this.props.login,type:this.props.type})}},{key:"render",value:function(){return r.a.createElement("div",{className:"student flexfullwh"},r.a.createElement(ee,{socket:this.state.socket,login:this.props.login}))}}]),t}(n.Component),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={login:a.props.login,body:"",answerA:"",answerB:"",answerC:"",answerD:"",properAnswer:"",category:"",userAnswer:"",points:0,totalPoints:0,currentQuestion:0,currentAnswer:0,isAnswered:!1,canReceiveTest:!0,canHear:!0,canSpeak:"",speakTotalQuestions:"",speakTotalPoints:"",option:""},a.serveQuestion=function(e){function t(e){return(e<10?"0":"")+e}function n(){var e=new Date,a=e.getFullYear(),n=t(e.getDate());return a+"-"+t(e.getMonth()+1)+"-"+n+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())}a.state.canReceiveTest&&a.setState({canSpeak:!0,canReceiveTest:!1});var r=window.speechSynthesis;a.setState({totalPoints:e.length}),1===a.state.totalPoints?a.setState({speakTotalQuestions:"pytanie",speakTotalPoints:"punkt"}):2===a.state.totalPoints?a.setState({speakTotalQuestions:"pytania",speakTotalPoints:"punkty"}):3===a.state.totalPoints?a.setState({speakTotalQuestions:"pytania",speakTotalPoints:"punkty"}):4===a.state.totalPoints?a.setState({speakTotalQuestions:"pytania",speakTotalPoints:"punkty"}):a.setState({speakTotalQuestions:"pyta\u0144",speakTotalPoints:"punkt\xf3w"});var s=new SpeechSynthesisUtterance("Wybierz prosz\u0119 spos\xf3b rozwi\u0105zywania testu.\n            Kliknij jedynk\u0119 na klawiaturze numerycznej g\xf3rnej aby rozwi\u0105zywa\u0107 test za pomoc\u0105 klawiatury \n            lub kliknij dw\xf3jk\u0119 na klawiaturze numerycznej g\xf3rnej aby u\u017cywa\u0107 w\u0142asnej mowy"),o=new SpeechSynthesisUtterance("Witaj! Tw\xf3j nauczyciel wylosowa\u0142 Ci ".concat(e.length," ").concat(a.state.speakTotalQuestions,".\n                Aby ods\u0142ucha\u0107 wiadomo\u015b\u0107 powitaln\u0105 ponownie naci\u015bnij klawisz R\n                Aby rozpocz\u0105\u0107 test ods\u0142uchaj pierwsze pytanie klikaj\u0105c spacj\u0119.\n                Po zatwierdzeniu ka\u017cdej udzielonej odpowiedzi otrzymasz informacj\u0119 czy by\u0142a ona b\u0142\u0119dna czy poprawna. Kolejne pytanie wywo\u0142aj klawiszem spacja.\n                Aby porusza\u0107 si\u0119 pomi\u0119dzy odpowiedziami steruj klawiszami W oraz S. \n                Aby wybra\u0107 odpowied\u017a klikaj odpowiednio klawisze A, B, C lub D. \n                Aby zatwierdzi\u0107 swoj\u0105 odpowied\u017a kliknij klawisz ENTER.\n                Aby przerwa\u0107 m\xf3j g\u0142os u\u017cyj klawisza X.\n                Gdy test dobiegnie ko\u0144ca zostaniesz o tym poinformowany!")),i=new SpeechSynthesisUtterance("Witaj! Tw\xf3j nauczyciel wylosowa\u0142 Ci ".concat(e.length," ").concat(a.state.speakTotalQuestions,'.\n                Aby korzysta\u0107 z funkcji sterowania g\u0142osem musisz m\xf3wi\u0107 p\u0142ynnie i wyra\u017anie. W przypadku nieuzyskania \u017cadnej odpowiedzi kliknij ponownie F i powiedz komend\u0119.\n                Aby ods\u0142ucha\u0107 wiadomo\u015b\u0107 powitaln\u0105 ponownie naci\u015bnij F na klawiaturze i powiedz "instrukcja".\n                Aby rozpocz\u0105\u0107 test ods\u0142uchaj pierwsze pytanie klikaj\u0105c F na klawiaturze i powiedz "pytanie". \n                Po zatwierdzeniu ka\u017cdej udzielonej odpowiedzi otrzymasz informacj\u0119 czy by\u0142a ona b\u0142\u0119dna czy poprawna. Kolejne pytanie wywo\u0142aj klikaj\u0105c przycisk F i powiedz "pytanie".\n                Aby porusza\u0107 si\u0119 pomi\u0119dzy odpowiedziami kliknij F i powiedz "kolejna odpowied\u017a" lub "poprzednia odpowied\u017a". \n                Aby wybra\u0107 odpowied\u017a kliknij klawisz F i powiedz odpowiednio "odpowied\u017a a", "odpowied\u017a b", "odpowied\u017a c", "odpowied\u017a d". \n                Aby zatwierdzi\u0107 swoj\u0105 odpowied\u017a kliknij klawisz F i powiedz "zatwierd\u017a".\n                Gdy po klikni\u0119ciu klawisza F i powiedzenia poprawnej komendy nie us\u0142yszysz \u017cadnej odpowiedzi, musisz powt\xf3rzy\u0107 klikni\u0119cie F oraz powiedzenie komendy na nowo.\n                Gdy test dobiegnie ko\u0144ca zostaniesz o tym poinformowany!'));if(0===a.state.currentQuestion&&setTimeout(function(){r.speak(s)},500),a.state.currentQuestion<=e.length-1){a.setState({body:e[a.state.currentQuestion].body,answerA:e[a.state.currentQuestion].answerA,answerB:e[a.state.currentQuestion].answerB,answerC:e[a.state.currentQuestion].answerC,answerD:e[a.state.currentQuestion].answerD,properAnswer:e[a.state.currentQuestion].properAnswer,category:e[0].category,totalPoints:e.length});var c=new SpeechSynthesisUtterance("Pytanie ".concat(a.state.currentQuestion+1)+a.state.body),l=new SpeechSynthesisUtterance("Odpowied\u017a A : "+a.state.answerA),u=new SpeechSynthesisUtterance("Odpowied\u017a B : "+a.state.answerB),d=new SpeechSynthesisUtterance("Odpowied\u017a C : "+a.state.answerC),p=new SpeechSynthesisUtterance("Odpowied\u017a D : "+a.state.answerD),m=[];m.push(c),m.push(l),m.push(u),m.push(d),m.push(p),document.body.onkeyup=function(t){if(49===t.keyCode){var s=new SpeechSynthesisUtterance("Wybra\u0142e\u015b rozwi\u0105zywanie za pomoc\u0105 klawiatury");r.cancel(),setTimeout(function(){r.speak(s)},500),a.setState({option:"keyboard"})}if(50===t.keyCode){var c=new SpeechSynthesisUtterance("Wybra\u0142e\u015b rozwi\u0105zywanie za pomoc\u0105 g\u0142osu");r.cancel(),setTimeout(function(){r.speak(c)},500),a.setState({option:"voice"})}if("keyboard"===a.state.option&&(0===a.state.currentQuestion&&setTimeout(function(){r.speak(o)},500),document.body.onkeyup=function(){var t=Object(y.a)(h.a.mark(function t(s){var i,c,w,y,g,k;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.state.canSpeak?(32===s.keyCode&&(r.cancel(),setTimeout(function(){r.speak(m[0])},500)),87===s.keyCode&&(a.setState({currentAnswer:a.state.currentAnswer+1}),console.log(a.state.currentAnswer),1===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(l)},500)):2===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(u)},500)):3===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(d)},500)):4===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(p)},500)):a.state.currentAnswer>4&&(r.cancel(),setTimeout(function(){r.speak(l)},500),a.setState({currentAnswer:1}))),83===s.keyCode&&(a.setState({currentAnswer:a.state.currentAnswer-1}),console.log(a.state.currentAnswer),1===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(l)},500)):2===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(u)},500)):3===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(d)},500)):4===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(p)},500)):a.state.currentAnswer<1&&(r.cancel(),setTimeout(function(){r.speak(l)},500),a.setState({currentAnswer:1}))),65===s.keyCode&&(r.cancel(),a.setState({userAnswer:"A",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Wybra\u0142e\u015b odpowied\u017a A, kliknij enter aby zatwierdzi\u0107 odpowied\u017a"))},500)),66===s.keyCode&&(r.cancel(),a.setState({userAnswer:"B",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Wybra\u0142e\u015b odpowied\u017a B, kliknij enter aby zatwierdzi\u0107 odpowied\u017a"))},500)),67===s.keyCode&&(r.cancel(),a.setState({userAnswer:"C",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Wybra\u0142e\u015b odpowied\u017a C, kliknij enter aby zatwierdzi\u0107 odpowied\u017a"))},500)),68===s.keyCode&&(r.cancel(),a.setState({userAnswer:"D",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Wybra\u0142e\u015b odpowied\u017a D, kliknij enter aby zatwierdzi\u0107 odpowied\u017a"))},500)),82===s.keyCode&&(r.cancel(),setTimeout(function(){r.speak(o)},500))):82===s.keyCode&&(r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Test dobieg\u0142 ko\u0144ca. Interakcja z testem zosta\u0142a zablokowana!"))},500)),88===s.keyCode&&r.cancel(),!a.state.isAnswered){t.next=49;break}if(13!==s.keyCode){t.next=49;break}if(a.state.userAnswer!==a.state.properAnswer){t.next=28;break}if(r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Poprawna odpowied\u017a."))},500),a.setState({points:a.state.points+1,currentQuestion:a.state.currentQuestion+1,isAnswered:!1}),!(a.state.currentQuestion<=e.length-1)){t.next=14;break}r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Kliknij spacj\u0119 aby us\u0142ysze\u0107 kolejne pytanie"))},500),a.serveQuestion(e),t.next=26;break;case 14:if(a.setState({currentQuestion:a.state.currentQuestion-1}),r.cancel(),i=a.state.points,c=e.length,setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Koniec testu. Tw\xf3j wynik to ".concat(i," na ").concat(c," ").concat(a.state.speakTotalPoints,". Wynik zosta\u0142 przes\u0142any do nauczyciela. Interakcja z testem zosta\u0142a zablokowana!")))},500),w=n(),!a._isMounted){t.next=26;break}return t.next=23,b.a.post("/saveResult",{login:a.state.login,category:a.state.category,points:a.state.points,totalPoints:c,percent:Math.round(a.state.points/e.length*100)+"%",date:w});case 23:t.sent.data.done&&a.props.socket.emit("sendResult",{login:a.state.login}),a.setState({body:"",answerA:"",answerB:"",answerC:"",answerD:"",properAnswer:"",category:"",userAnswer:"",points:0,totalPoints:0,currentQuestion:0,currentAnswer:0,isAnswered:!1,canSpeak:!1,canReceiveTest:!0});case 26:t.next=49;break;case 28:if(r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("B\u0142\u0119dna odpowied\u017a."))},500),a.setState({currentQuestion:a.state.currentQuestion+1,isAnswered:!1}),!(a.state.currentQuestion<=e.length-1)){t.next=37;break}r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Kliknij spacj\u0119 aby us\u0142ysze\u0107 kolejne pytanie"))},500),a.serveQuestion(e),t.next=49;break;case 37:if(a.setState({currentQuestion:a.state.currentQuestion-1}),r.cancel(),y=a.state.points,g=e.length,setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Koniec testu. Tw\xf3j wynik to ".concat(y," na ").concat(g," ").concat(a.state.speakTotalPoints,". Wynik zosta\u0142 przes\u0142any do nauczyciela. Interakcja z testem zosta\u0142a zablokowana!")))},500),k=n(),!a._isMounted){t.next=49;break}return t.next=46,b.a.post("/saveResult",{login:a.state.login,category:a.state.category,points:a.state.points,totalPoints:g,percent:Math.round(a.state.points/e.length*100)+"%",date:k});case 46:t.sent.data.done&&a.props.socket.emit("sendResult",{login:a.state.login}),a.setState({body:"",answerA:"",answerB:"",answerC:"",answerD:"",properAnswer:"",category:"",userAnswer:"",points:0,totalPoints:0,currentQuestion:0,currentAnswer:0,isAnswered:!1,canSpeak:!1,canReceiveTest:!0});case 49:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),"voice"===a.state.option){window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition;var w=new window.SpeechRecognition;w.lang="pl-PL",0===a.state.currentQuestion&&setTimeout(function(){r.speak(i)},500),document.body.onkeyup=function(e){a.state.canSpeak&&(70===e.keyCode&&(a.state.canHear&&w.start(),a.setState({canHear:!1})),86===e.keyCode&&w.stop())},w.onend=function(){a.setState({canHear:!0})},w.onresult=function(){var t=Object(y.a)(h.a.mark(function t(s){var o,c,w,y,g,k,f,E;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=s.results[0][0].transcript,c=o.toString().toLowerCase(),console.log(c),a.state.canSpeak?("odpowied\u017a a"===c&&(r.cancel(),a.setState({userAnswer:"A",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance('Wybra\u0142e\u015b odpowied\u017a A, kliknij F na klawiaturze i powiedz "zatwierd\u017a" aby zatwierdzi\u0107 odpowied\u017a'))},500)),"odpowied\u017a b"===c&&(r.cancel(),a.setState({userAnswer:"B",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance('Wybra\u0142e\u015b odpowied\u017a B, kliknij F na klawiaturze i powiedz "zatwierd\u017a" aby zatwierdzi\u0107 odpowied\u017a'))},500)),"odpowied\u017a c"===c&&(r.cancel(),a.setState({userAnswer:"C",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance('Wybra\u0142e\u015b odpowied\u017a C, kliknij F na klawiaturze i powiedz "zatwierd\u017a" aby zatwierdzi\u0107 odpowied\u017a'))},500)),"odpowied\u017a d"===c&&(r.cancel(),a.setState({userAnswer:"D",isAnswered:!0}),setTimeout(function(){r.speak(new SpeechSynthesisUtterance('Wybra\u0142e\u015b odpowied\u017a D, kliknij F na klawiaturze i powiedz "zatwierd\u017a" aby zatwierdzi\u0107 odpowied\u017a'))},500)),"pytanie"===c&&(r.cancel(),setTimeout(function(){r.speak(m[0])},500)),"kolejna odpowied\u017a"===c&&(a.setState({currentAnswer:a.state.currentAnswer+1}),console.log(a.state.currentAnswer),1===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(l)},500)):2===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(u)},500)):3===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(d)},500)):4===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(p)},500)):a.state.currentAnswer>4&&(r.cancel(),setTimeout(function(){r.speak(l)},500),a.setState({currentAnswer:1}))),"poprzednia odpowied\u017a"===c&&(a.setState({currentAnswer:a.state.currentAnswer-1}),console.log(a.state.currentAnswer),1===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(l)},500)):2===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(u)},500)):3===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(d)},500)):4===a.state.currentAnswer?(r.cancel(),setTimeout(function(){r.speak(p)},500)):a.state.currentAnswer<1&&(r.cancel(),setTimeout(function(){r.speak(l)},500),a.setState({currentAnswer:1}))),"instrukcja"===c&&(r.cancel(),setTimeout(function(){r.speak(i)},500))):"instrukcja"===c&&(r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Test dobieg\u0142 ko\u0144ca. Interakcja z testem zosta\u0142a zablokowana!"))},500)),!a.state.isAnswered){t.next=51;break}if("zatwierd\u017a"!==c){t.next=51;break}if(a.state.userAnswer!==a.state.properAnswer){t.next=30;break}if(r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Poprawna odpowied\u017a."))},500),a.setState({points:a.state.points+1,currentQuestion:a.state.currentQuestion+1,isAnswered:!1}),!(a.state.currentQuestion<=e.length-1)){t.next=16;break}r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance('Kliknij F na klawiaturze i powiedz "pytanie" aby us\u0142ysze\u0107 kolejne pytanie'))},500),a.serveQuestion(e),t.next=28;break;case 16:if(a.setState({currentQuestion:a.state.currentQuestion-1}),r.cancel(),w=a.state.points,y=e.length,setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Koniec testu. Tw\xf3j wynik to ".concat(w," na ").concat(y," ").concat(a.state.speakTotalPoints,". Wynik zosta\u0142 przes\u0142any do nauczyciela. Interakcja z testem zosta\u0142a zablokowana!")))},500),g=n(),!a._isMounted){t.next=28;break}return t.next=25,b.a.post("/saveResult",{login:a.state.login,category:a.state.category,points:a.state.points,totalPoints:y,percent:Math.round(a.state.points/e.length*100)+"%",date:g});case 25:t.sent.data.done&&a.props.socket.emit("sendResult",{login:a.state.login}),a.setState({body:"",answerA:"",answerB:"",answerC:"",answerD:"",properAnswer:"",category:"",userAnswer:"",points:0,totalPoints:0,currentQuestion:0,currentAnswer:0,isAnswered:!1,canSpeak:!1,canReceiveTest:!0});case 28:t.next=51;break;case 30:if(r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance("B\u0142\u0119dna odpowied\u017a."))},500),a.setState({currentQuestion:a.state.currentQuestion+1,isAnswered:!1}),!(a.state.currentQuestion<=e.length-1)){t.next=39;break}r.cancel(),setTimeout(function(){r.speak(new SpeechSynthesisUtterance('Kliknij F na klawiaturze i powiedz "pytanie" aby us\u0142ysze\u0107 kolejne pytanie'))},500),a.serveQuestion(e),t.next=51;break;case 39:if(a.setState({currentQuestion:a.state.currentQuestion-1}),r.cancel(),k=a.state.points,f=e.length,setTimeout(function(){r.speak(new SpeechSynthesisUtterance("Koniec testu. Tw\xf3j wynik to ".concat(k," na ").concat(f," ").concat(a.state.speakTotalPoints,". Wynik zosta\u0142 przes\u0142any do nauczyciela. Interakcja z testem zosta\u0142a zablokowana!")))},500),E=n(),!a._isMounted){t.next=51;break}return t.next=48,b.a.post("/saveResult",{login:a.state.login,category:a.state.category,points:a.state.points,totalPoints:f,percent:Math.round(a.state.points/e.length*100)+"%",date:E});case 48:t.sent.data.done&&a.props.socket.emit("sendResult",{login:a.state.login}),a.setState({body:"",answerA:"",answerB:"",answerC:"",answerD:"",properAnswer:"",category:"",userAnswer:"",points:0,totalPoints:0,currentQuestion:0,currentAnswer:0,isAnswered:!1,canSpeak:!1,canReceiveTest:!0});case 51:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.props.socket.on("sendTest",function(t){e.state.canReceiveTest&&e.serveQuestion(t)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-list"},r.a.createElement("ul",{className:"menu-items"},r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"welcome"},"Welcome ",this.props.login),r.a.createElement("li",null,r.a.createElement(D,null))),r.a.createElement("div",{className:"blind-student-info"},this.state.body&&r.a.createElement("div",{className:"alert alert-warning student-info"},"Witaj! Tw\xf3j nauczyciel wylosowa\u0142 Ci ".concat(this.state.totalPoints," ").concat(this.state.speakTotalQuestions)),"keyboard"===this.state.option?r.a.createElement("div",null,r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby ods\u0142ucha\u0107 wiadomo\u015b\u0107 powitaln\u0105 ponownie naci\u015bnij klawisz R"),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby rozpocz\u0105\u0107 test ods\u0142uchaj pierwsze pytanie klikaj\u0105c spacj\u0119."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Po zatwierdzeniu ka\u017cdej udzielonej odpowiedzi otrzymasz informacj\u0119 czy by\u0142a ona b\u0142\u0119dna czy poprawna. Kolejne pytanie wywo\u0142aj klawiszem spacja"),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby porusza\u0107 si\u0119 pomi\u0119dzy odpowiedziami steruj klawiszami W oraz S. "),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby wybra\u0107 odpowied\u017a klikaj odpowiednio klawisze A, B, C lub D."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby zatwierdzi\u0107 swoj\u0105 odpowied\u017a kliknij klawisz ENTER."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby przerwa\u0107 czytanie u\u017cyj klawisza X."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Gdy test dobiegnie ko\u0144ca zostaniesz o tym poinformowany!")):"voice"===this.state.option?r.a.createElement("div",null,r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby korzysta\u0107 z funkcji sterowania g\u0142osem musisz m\xf3wi\u0107 p\u0142ynnie i wyra\u017anie. W przypadku nieuzyskania \u017cadnej odpowiedzi kliknij ponownie F i powiedz komend\u0119."),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby ods\u0142ucha\u0107 wiadomo\u015b\u0107 powitaln\u0105 ponownie naci\u015bnij F na klawiaturze i powiedz "instrukcja".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby rozpocz\u0105\u0107 test ods\u0142uchaj pierwsze pytanie klikaj\u0105c F na klawiaturze i powiedz "pytanie".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Po zatwierdzeniu ka\u017cdej udzielonej odpowiedzi otrzymasz informacj\u0119 czy by\u0142a ona b\u0142\u0119dna czy poprawna. Kolejne pytanie wywo\u0142aj klikaj\u0105c przycisk F i powiedz "pytanie".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby porusza\u0107 si\u0119 pomi\u0119dzy odpowiedziami kliknij F i powiedz "kolejna odpowied\u017a" lub "poprzednia odpowied\u017a".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby wybra\u0107 odpowied\u017a kliknij klawisz F i powiedz odpowiednio "odpowied\u017a a", "odpowied\u017a b", "odpowied\u017a c", "odpowied\u017a d".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby zatwierdzi\u0107 swoj\u0105 odpowied\u017a kliknij klawisz F i powiedz "zatwierd\u017a".'),r.a.createElement("div",{className:"alert alert-warning student-info"},"Gdy po klikni\u0119ciu klawisza F i powiedzenia poprawnej komendy nie us\u0142yszysz \u017cadnej odpowiedzi, musisz powt\xf3rzy\u0107 klikni\u0119cie F oraz powiedzenie komendy na nowo."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Gdy test dobiegnie ko\u0144ca zostaniesz o tym poinformowany!")):r.a.createElement("div",null,r.a.createElement("div",{className:"alert alert-success student-info"},"Instrukcje dla opcji rozwi\u0105zywania testu za pomoc\u0105 klawiatury"),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby ods\u0142ucha\u0107 wiadomo\u015b\u0107 powitaln\u0105 ponownie naci\u015bnij klawisz R"),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby rozpocz\u0105\u0107 test ods\u0142uchaj pierwsze pytanie klikaj\u0105c spacj\u0119."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Po zatwierdzeniu ka\u017cdej udzielonej odpowiedzi otrzymasz informacj\u0119 czy by\u0142a ona b\u0142\u0119dna czy poprawna. Kolejne pytanie wywo\u0142aj klawiszem spacja"),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby porusza\u0107 si\u0119 pomi\u0119dzy odpowiedziami steruj klawiszami W oraz S. "),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby wybra\u0107 odpowied\u017a klikaj odpowiednio klawisze A, B, C lub D."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby zatwierdzi\u0107 swoj\u0105 odpowied\u017a kliknij klawisz ENTER."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby przerwa\u0107 czytanie u\u017cyj klawisza X."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Gdy test dobiegnie ko\u0144ca zostaniesz o tym poinformowany!"),r.a.createElement("div",{className:"alert alert-success student-info"},"Instrukcje dla opcji rozwi\u0105zywania testu za pomoc\u0105 g\u0142osu"),r.a.createElement("div",{className:"alert alert-warning student-info"},"Aby korzysta\u0107 z funkcji sterowania g\u0142osem musisz m\xf3wi\u0107 p\u0142ynnie i wyra\u017anie. W przypadku nieuzyskania \u017cadnej odpowiedzi kliknij ponownie F i powiedz komend\u0119."),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby ods\u0142ucha\u0107 wiadomo\u015b\u0107 powitaln\u0105 ponownie naci\u015bnij F na klawiaturze i powiedz "instrukcja".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby rozpocz\u0105\u0107 test ods\u0142uchaj pierwsze pytanie klikaj\u0105c F na klawiaturze i powiedz "pytanie".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Po zatwierdzeniu ka\u017cdej udzielonej odpowiedzi otrzymasz informacj\u0119 czy by\u0142a ona b\u0142\u0119dna czy poprawna. Kolejne pytanie wywo\u0142aj klikaj\u0105c przycisk F i powiedz "pytanie".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby porusza\u0107 si\u0119 pomi\u0119dzy odpowiedziami kliknij F i powiedz "kolejna odpowied\u017a" lub "poprzednia odpowied\u017a".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby wybra\u0107 odpowied\u017a kliknij klawisz F i powiedz odpowiednio "odpowied\u017a a", "odpowied\u017a b", "odpowied\u017a c", "odpowied\u017a d".'),r.a.createElement("div",{className:"alert alert-warning student-info"},'Aby zatwierdzi\u0107 swoj\u0105 odpowied\u017a kliknij klawisz F i powiedz "zatwierd\u017a".'),r.a.createElement("div",{className:"alert alert-warning student-info"},"Gdy po klikni\u0119ciu klawisza F i powiedzenia poprawnej komendy nie us\u0142yszysz \u017cadnej odpowiedzi, musisz powt\xf3rzy\u0107 klikni\u0119cie F oraz powiedzenie komendy na nowo."),r.a.createElement("div",{className:"alert alert-warning student-info"},"Gdy test dobiegnie ko\u0144ca zostaniesz o tym poinformowany!"))))),r.a.createElement("div",{className:"questions blindStudentQuestions center"},""===this.state.body?r.a.createElement("div",null,"Please wait..."):r.a.createElement("div",{className:"question blindStudentQuestion"},r.a.createElement("div",{className:"body alert alert-dark font-weight-bold"},this.state.currentQuestion+1+". "+this.state.body),r.a.createElement("div",{className:"aswer alert alert-success"},"A. "+this.state.answerA),r.a.createElement("div",{className:"aswer alert alert-success"},"B. "+this.state.answerB),r.a.createElement("div",{className:"aswer alert alert-success"},"C. "+this.state.answerC),r.a.createElement("div",{className:"aswer alert alert-success"},"D. "+this.state.answerD))))}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={socket:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=J()("/blindStudent");this.setState({socket:e})}},{key:"componentDidMount",value:function(){this.state.socket.emit("login",{login:this.props.login,type:this.props.type})}},{key:"componentWillUnmount",value:function(){this.state.socket.emit("logout",{login:this.props.login,type:this.props.type})}},{key:"render",value:function(){return r.a.createElement("div",{className:"blindstudent flexfullwh"},r.a.createElement(ae,{socket:this.state.socket,login:this.props.login}))}}]),t}(n.Component),re=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave"}))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={login:"",type:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(h.a.mark(function e(){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isMounted=!0,t=N()){e.next=6;break}this.props.history.push("/"),e.next=11;break;case 6:if(!this._isMounted){e.next=11;break}return e.next=9,b.a.get("/getUser",{headers:{Authorization:"Bearer ".concat(t)}});case 9:a=e.sent,this.setState({login:a.data.login,type:a.data.type});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return this._isMounted?r.a.createElement("div",{className:"account"},"teacher"===this.state.type?r.a.createElement(Z,{login:this.state.login,type:this.state.type}):"student"===this.state.type?r.a.createElement(te,{login:this.state.login,type:this.state.type}):"blind-student"===this.state.type?r.a.createElement(ne,{login:this.state.login,type:this.state.type}):null):r.a.createElement(re,null)}}]),t}(n.Component),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.history.push(e)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("button",{className:"btn btn-dark",onClick:function(){return e.handleClick(e.props.where)}},"Back")}}]),t}(n.Component),ie=Object(m.e)(oe),ce=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-list"},r.a.createElement("ul",{className:"menu-items"},r.a.createElement("div",{className:"buttons"},r.a.createElement("li",null,r.a.createElement(D,null)),r.a.createElement("li",null,r.a.createElement(ie,{where:"/account"}))))),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"mainform"},r.a.createElement("form",{className:"form-group",onSubmit:this.props.handleSubmit},r.a.createElement("input",{id:"body",className:"form-control mt-3",name:"body",placeholder:"Type your question...",type:"text",onChange:this.props.handleChange})," ",r.a.createElement("br",null),this.props.errorBODY&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorBODY),r.a.createElement("input",{id:"answerA",className:"form-control",name:"answerA",placeholder:"Give answer A...",type:"text",onChange:this.props.handleChange})," ",r.a.createElement("br",null),this.props.errorANSWER_A&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorANSWER_A),r.a.createElement("input",{id:"answerB",className:"form-control",name:"answerB",placeholder:"Give answer B...",type:"text",onChange:this.props.handleChange})," ",r.a.createElement("br",null),this.props.errorANSWER_B&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorANSWER_B),r.a.createElement("input",{id:"answerC",className:"form-control",name:"answerC",placeholder:"Give answer C...",type:"text",onChange:this.props.handleChange})," ",r.a.createElement("br",null),this.props.errorANSWER_C&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorANSWER_C),r.a.createElement("input",{id:"answerD",className:"form-control",name:"answerD",placeholder:"Give answer D...",type:"text",onChange:this.props.handleChange})," ",r.a.createElement("br",null),this.props.errorANSWER_D&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorANSWER_D),r.a.createElement("select",{className:"form-control",onChange:this.props.handleSelectChange,name:"properAnswer"},r.a.createElement("option",{hidden:!0},"Choose proper answer..."),r.a.createElement("option",{name:"category",value:"A"},"A"),r.a.createElement("option",{name:"category",value:"B"},"B"),r.a.createElement("option",{name:"category",value:"C"},"C"),r.a.createElement("option",{name:"category",value:"D"},"D"))," ",r.a.createElement("br",null),this.props.errorANSWER_PROPER&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorANSWER_PROPER),r.a.createElement("select",{className:"form-control",onChange:this.props.handleSelectChange,name:"category"},r.a.createElement("option",{hidden:!0},"Choose category..."),r.a.createElement("option",{name:"category",value:"EE14"},"EE14"),r.a.createElement("option",{name:"category",value:"EE13"},"EE13"),r.a.createElement("option",{name:"category",value:"EE12"},"EE12"),r.a.createElement("option",{name:"category",value:"EE09"},"EE09"),r.a.createElement("option",{name:"category",value:"EE08"},"EE08"))," ",r.a.createElement("br",null),this.props.errorCATEGORY&&r.a.createElement("div",{className:"alert alert-danger"},this.props.errorCATEGORY),this.props.error&&r.a.createElement("div",{className:"alert alert-warning"},this.props.error),this.props.success&&r.a.createElement("div",{className:"alert alert-success"},this.props.success),r.a.createElement("input",{name:"myImage",type:"file",className:"form-control-file",onChange:this.props.handleFileChange,style:{marginBottom:"-15px",marginTop:"20px"}})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn btn-dark submit"},"Submit")," ",r.a.createElement("br",null)))))}}]),t}(n.Component),le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={body:"",answerA:"",answerB:"",answerC:"",answerD:"",properAnswer:"",category:"",image:"",errorBODY:"",errorANSWER_A:"",errorANSWER_B:"",errorANSWER_C:"",errorANSWER_D:"",errorANSWER_PROPER:"",errorCATEGORY:"",errorIMAGEURL:"",error:"",success:""},a.cancel=function(){a.setState({amount:"",category:"",questions:""})},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSelectChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({image:e.target.files[0]})},a.handleSubmit=function(){var e=Object(y.a)(h.a.mark(function e(t){var n,r,s,o,i,c,l,u,d,p,m,w,y;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.body,s=n.answerA,o=n.answerB,i=n.answerC,c=n.answerD,l=n.properAnswer,u=n.category,d=n.image,(p=new FormData).append("body",r),p.append("answerA",s),p.append("answerB",o),p.append("answerC",i),p.append("answerD",c),p.append("properAnswer",l),p.append("category",u),p.append("myImage",d),m={headers:{"content-type":"multipart/form-data"}},w=j.newQuestionValidation(r,s,o,i,c,l,u),a.setState(w),!w.isValid){e.next=20;break}if(!a._isMounted){e.next=20;break}return e.next=18,b.a.post("/upload",p,m);case 18:(y=e.sent).data.done?a.setState({success:y.data.message,error:""})||setTimeout(function(){a.props.history.push("/account")},2500):a.setState({error:y.data.message,success:""});case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){N()||this.props.history.push("/")}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"add flexfullwh"},r.a.createElement(ce,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleSelectChange:this.handleSelectChange,handleFileChange:this.handleFileChange,handleImage:this.handleImage,errorBODY:this.state.errorBODY,errorANSWER_A:this.state.errorANSWER_A,errorANSWER_B:this.state.errorANSWER_B,errorANSWER_C:this.state.errorANSWER_C,errorANSWER_D:this.state.errorANSWER_D,errorANSWER_PROPER:this.state.errorANSWER_PROPER,errorCATEGORY:this.state.errorCATEGORY,errorIMAGEURL:this.state.errorIMAGEURL,success:this.state.success,error:this.state.error}))}}]),t}(n.Component),ue=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"tests-management-application"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:C}),r.a.createElement(m.a,{path:"/register",component:R}),r.a.createElement(m.a,{path:"/account",component:se}),r.a.createElement(m.a,{path:"/add",component:le}))))}}]),t}(n.Component);o.a.render(r.a.createElement(ue,null),document.getElementById("root"))},64:function(e,t,a){e.exports=a(128)},69:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.e5b55d6c.chunk.js.map